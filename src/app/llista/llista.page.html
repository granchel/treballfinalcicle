<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title class="titulo">
      <ion-icon name="reader-outline"></ion-icon>
      Llistes
    </ion-title>
    <ion-buttons slot="start">
      <ion-menu-button menu="main-menu"></ion-menu-button>
     </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Hola Mundo</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-button expand="block" [routerLink]="['/insertar']">Insertar</ion-button>


  <ion-searchbar animated 
                (ionChange)="buscar ( $event )">
  </ion-searchbar>


<!--Mostrar llistat -->
<!--En principi este es el dif que fa que si es fontaneria aparega la llista de fontaneria , si no l'altra. -->
<div *ngIf = " this.nom == 'fontaneria' && textoBuscar != ''" >
  <ion-card *ngFor="let item of empreses | filtro: textoBuscar ">
    <ion-card-header>
      <ion-icon name="clipboard-outline"></ion-icon>
      <ion-card-title><h2>{{ item.nombre }} ({{item.preciohora}}) €</h2></ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <ion-label>Descripcio: </ion-label>
      {{ item.descripcion }}

      <ion-button class="detall" expand="block" [routerLink]="['/details/', item.key]" > 
      Detalle &nbsp;
      <ion-icon name="podium-outline"></ion-icon> 
    </ion-button>
    </ion-card-content>
  </ion-card>
</div>

<div *ngIf = " this.nom == 'fontaneria' && textoBuscar == '' "  >
  <ion-card *ngFor="let item of empreses ">
    <ion-card-header>
      <ion-icon name="clipboard-outline"></ion-icon>
      <ion-card-title ><h2>{{ item.nombre }} ({{item.preciohora}}) €</h2></ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <ion-label>Descripcio: </ion-label>
      {{ item.descripcion }}

      <ion-button class="detall" expand="block" [routerLink]="['/details/', item.key]">
        Detalle &nbsp; <ion-icon name="podium-outline"></ion-icon>
       </ion-button>
    </ion-card-content>
  </ion-card>
</div>
<!-- --------------------------------------------------------------------------------------------- -->
<div *ngIf = " this.nom == 'fusteria'" >
  <ion-card *ngFor="let item of empreses | filtro: textoBuscar">
    <ion-card-header>
      <ion-card-title>{{ item.nombre }} ({{item.preciohora}}) €</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <ion-label>Localidad: </ion-label>
      {{ item.localidad }}
      <ion-label>Descripcio: </ion-label>
      {{ item.descripcion }}

      <ion-button expand="block" [routerLink]="['/details/', item.key]">Detalle</ion-button>
    </ion-card-content>
  </ion-card>
</div>

<div *ngIf = " this.nom == 'informatica'" >
  <ion-card *ngFor="let item of empreses | filtro: textoBuscar">
    <ion-card-header>
      <ion-card-title>{{ item.nombre }} ({{item.preciohora}}) €</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <ion-label>Descripcio: </ion-label>
      {{ item.descripcion }}

      <ion-button expand="block" [routerLink]="['/details/', item.key]">Detalle</ion-button>
    </ion-card-content>
  </ion-card>
</div>


</ion-content>
